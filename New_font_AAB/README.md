# Анализ пользовательского поведения в мобильном приложении

## Цель исследования
На основе данных использования мобильного приложения для продажи продуктов питания:
- проанализировать воронку продаж
- оценить результаты A/A/B-тестирования при введении нового шрифта в приложении

## Данные
- EventName — название события;
- DeviceIDHash — уникальный идентификатор пользователя;
- EventTimestamp — время события;
- ExpId — номер эксперимента: 246 и 247 — контрольные группы, а 248 — экспериментальная.

## Этапы исследования
1. Изучение и предобработка данных
2. Расчеты
3. Воронка событий
4. Изучение результатов эксперимента
   1) сравнение групп дла А/А теста
   2) сравнение групп для А1/В теста
   3) сравнение групп для А2/В теста
   4) сравнение групп для А1+А2/В теста
5. Общий вывод

## Выводы

Цепочка событий, которую проходит пользователь для совершения покупки: Появление главного экрана (Main Screen Appear) - Появление экрана с предложением (Offers Screen Appear) - Появление экрана с корзиной (Cart Screen Appear) - Появление экрана "Успешная оплата" (Payment Screen Successful)<br>
Появление экрана 'Tutorial'(обучение) является отдельным событием, не входящим в эксперимент, т.к. целью обучения является помощь клиенту в использовании приложения, а не продажа продуктов.

### Воронка событий и конверсия пользователей

**События и частота их появления:**
- Самое частое событие - появление главного экрана (далее *первое событие*).
- В 2 раза реже - появление экрана с предложением (39,5% от первого события). 
- 91% после появления экрана с предложением переходят в корзину (36% от первого события). 
- 80% событий с корщиной переходят в событие Успешная оплата (29% от первого события)
Просмотр обучающих роликов к воронке событий не относятся.

**Сколько пользователей совершили каждое событие (конверсия в заказ):**
- 62% пользователей, которые видели главный экран, перешли экран с предложением
- 81% из них перешли в корзину (50% от исходного числа пользователей)
- 95% от перешедших в корзину совершили покупку (47,7% пользователей от исходного числа). 

62% пользователей, которые видели главный экран, увидели и экран с предложением. 81% из них перешли в корзину (50% от исходного числа), а почти 95% от перешедших в корзину, совершили покупку (47,7% от исходного числа пользователей).
Больше всего пользователей теряется на этапе перехода с главного экрана на экран предложения. 
Можно предположить, что пользователю сложно найти нужный товар или нужного товара нет.

### Изучение результатов эксперимента
В каждой экспериментальной группе примерно по 2500 пользователей.
#### Сравнение групп для А/А теста (246 и 247)

Есть 2 контрольные группы для А/А-эксперимента, чтобы проверить корректность всех механизмов и расчётов. Проверим, если статистические критерии находят разницу между выборками 246 и 247.<br>

**Нулевая гипотеза 1**: уровень конверсии из события MainScreenAppear в событие OffersScreenAppear одинаковый у групп 246 и 247.<br>
p-значение:  0.2622344959255778<br>
Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 2**: уровень конверсии из события MainScreenAppear в событие CartScreenAppear одинаковый у групп 246 и 247.<br>
p-значение:  0.24012327015939383<br>
Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 3**: уровень конверсии из события MainScreenAppear в событие PaymentScreenSuccessful одинаковый у групп 246 и 247.<br>
p-значение:  0.12044299485641763<br>
Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
Статистической разницы между выборками для групп 246 и 247 нет ни для одного из событий, т.е. группы для А/А эксперимента подобраны корректно (являются однородными и сопоставимыми).


#### Сравнение групп для А1/B теста (246 и 248)

Проверим, если статистические критерии находят разницу между выборками 246 и 248 (группа с измененным шрифтом).<br>

**Нулевая гипотеза 1:** уровень конверсии из события MainScreenAppear в событие OffersScreenAppear одинаковый у групп 246 и 248.<br>
p-значение:  0.2684281587249231<br>
OffersScreenAppear: не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 2:** уровень конверсии из события MainScreenAppear в событие CartScreenAppear одинаковый у групп 246 и 248.<br>
p-значение:  0.1006104270048993<br>
CartScreenAppear: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 3:** уровень конверсии из события MainScreenAppear в событие PaymentScreenSuccessful одинаковый у групп 246 и 248.<br>
p-значение:  0.2582638437556217<br>
PaymentScreenSuccessful: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>

#### Сравнение групп для А2/B теста (247 и 248)

Проверим, если статистические критерии находят разницу между выборками 247 и 248 (группа с измененным шрифтом).<br>

**Нулевая гипотеза 1:** уровень конверсии из события MainScreenAppear в событие OffersScreenAppear одинаковый у групп 247 и 248.<br>
p-значение:  0.9869365252844515<br>
OffersScreenAppear: не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 2:** уровень конверсии из события MainScreenAppear в событие CartScreenAppear одинаковый у групп 247 и 248.<br>
p-значение:  0.6408180183192491<br>
CartScreenAppear: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 3:** уровень конверсии из события MainScreenAppear в событие PaymentScreenSuccessful одинаковый у групп 247 и 248.<br>
p-значение:  0.6699208079332859<br>
PaymentScreenSuccessful: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>

#### Сравнение групп для A1+А2/B теста (246+247 и 248)
**Нулевая гипотеза 1:** уровень конверсии из события MainScreenAppear в событие OffersScreenAppear одинаковый у групп 246+247 и 248.<br>
p-значение:  0.5308589432077624<br>
OffersScreenAppear: не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 2:** уровень конверсии из события MainScreenAppear в событие CartScreenAppear одинаковый у групп 246+247 и 248.<br>
p-значение:  0.22404678803657152<br>
CartScreenAppear: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>
**Нулевая гипотеза 3:** уровень конверсии из события MainScreenAppear в событие PaymentScreenSuccessful одинаковый у групп 246+247 и 248.<br>
p-значение:  0.6863094718086811<br>
PaymentScreenSuccessful: Не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными<br>

### Вывод
По проведенным тестам статистически значимой разницы между группами во всех тестах выявлено не было.   
**Эксперимент следует признать неудачным**: изменение шрифта не приводит к статистически значимым изменениям в конверсии тестовых групп.

## Используемые бибилиотеки
pandas, matplotlib, numpy, scipy, math, plotly
